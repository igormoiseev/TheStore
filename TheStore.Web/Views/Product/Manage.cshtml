@model IEnumerable<TheStore.Web.Domain.Product>
@{
    ViewBag.Title = "Управление товарами";
}

<h2>Товары</h2>
<hr />

<p>
    <a href="@Url.Action("New", "Product")" class="btn btn-success"><span class="glyphicon glyphicon-plus-sign"></span> Добавить товар</a>
</p>

@foreach (var product in Model)
{
    <div class="row">
        <div class="panel panel-info">
            <div class="panel-heading text-center">
                <strong>@product.Name</strong>
            </div>
            <div class="panel-body">
                <div class="col-md-6">
                    <ul class="list-unstyled list-inline">
                        @foreach (var photo in product.Photos)
                        {
                            <li>
                                <img class="thumbnail img-circle" src="@photo.Src" alt="@photo.Alt" style="width: 70px; height: 70px;" />
                            </li>
                        }
                    </ul>

                </div>
                <div class="col-md-6">
                    <ul class="nav nav-tabs">
                        <li class="active"><a href="#all" data-toggle="tab">Все</a></li>
                        <li><a href="#description" data-toggle="tab">Описание</a></li>
                        <li><a href="#characteristics" data-toggle="tab">Характеристики</a></li>
                    </ul>
                    
                    <div class="tab-content">
                        <div class="tab-pane active" id="all">
                            <br />
                            <ul class="list-unstyled">
                                @foreach (var option in product.Options)
                                {
                                    <li><strong>@option.Characteristic.Name : </strong>@option.Name</li>
                                }
                            </ul>
                            <p>@product.Description</p>
                        </div>
                        <div class="tab-pane" id="description">
                            <br />
                            <p>@product.Description</p>
                        </div>
                        <div class="tab-pane" id="characteristics">
                            <br />
                            <table class="table table-striped table-bordered">
                                @foreach (var option in product.Options)
                                {
                                    <tr>
                                        <td class="text-right">
                                            <strong>@option.Characteristic.Name</strong>
                                        </td>
                                        <td class="text-center">
                                            @option.Name
                                        </td>
                                    </tr>
                                }
                            </table>
                        </div>
                    </div>
                </div>
            </div>
            <div class="panel-footer text-right">
                <a class='btn btn-info btn-sm pull-left' href="@Url.Action("New", "Photo", new { productId = product.ProductId })"><span class="glyphicon glyphicon-picture"></span> Фотографии</a>
                <a class='btn btn-info btn-sm' href="@Url.Action("Edit", "Product", new { id = product.ProductId })"><span class="glyphicon glyphicon-edit"></span> Редактировать</a>
                <a href="@Url.Action("Delete", "Product", new { id = product.ProductId })" class="btn btn-danger btn-sm"><span class="glyphicon glyphicon-remove"></span> Удалить</a>
            </div>
        </div>
    </div>
}