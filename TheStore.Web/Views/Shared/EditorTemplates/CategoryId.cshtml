@using TheStore.Web.Data
@using TheStore.Web.Infrastructure
@model int
@{
    var dbContext = Context.GetContainer().GetInstance<ApplicationDbContext>();
    var availableCategories = dbContext.Categories.OrderBy(x => x.Name).Select(c => new SelectListItem
    {
        Text = c.Name,
        Value = c.CategoryId.ToString(),
        Selected = Model == c.CategoryId
    });
}

@Html.DropDownList("", availableCategories, new {@class = "form-control"})

